{% load static %}
<header>
    <nav class="ab-header">
        <div class="ab-left">
            <div class="logo-wrap">
                <a href="{% url 'home' %}">
                    <img src="{% static 'app/images/logo.jpg' %}" class="ab-logo" alt="Home Nest">
                </a>
            </div>
        </div>

        <div class="ab-center">
            <a href="{% url 'home' %}" class="site-title">
                <span class="home-text">Home</span>
                <span class="accent-text">Nest</span>
            </a>
        </div>

        <div class="ab-right">
            {% if user.is_authenticated %}
            <span class="user-greeting">Xin chào, {% firstof user.full_name user.username user.email %}!</span>
            {% endif %}
            <a href="{% url 'taobaidang' %}" class="host-btn"><i class="fa-solid fa-user-plus"></i> Trở thành host</a>
            <button class="ab-icon" aria-label="Menu"><i class="fa-solid fa-bars"></i></button>
        </div>
    </nav>
<!-- MENU DROPDOWN -->
<div class="menu-dropdown" id="menuDropdown">

    <!-- ITEM 1 -->
    <a href="{% url 'trungtamtrogiup' %}" class="md-item">
        <i class="fa-regular fa-circle-question"></i>
        Trung tâm trợ giúp
    </a>

    <!-- BLOCK HOST -->
    <a href="{% url 'taobaidang' %}" class="md-block">
        <div class="left">
            <div class="title">Trở thành host</div>
            <div class="desc">Bắt đầu đón tiếp khách và kiếm thêm thu nhập thật dễ dàng.</div>
        </div>
    </a>

    {% if user.is_authenticated %}
    <a href="{% url 'profile' %}" class="md-item"><i class="fa-regular fa-user"></i> Hồ sơ người dùng</a>
    <a href="{% url 'logout' %}" class="md-item"><i class="fa-solid fa-right-from-bracket"></i> Đăng xuất</a>
    {% else %}
    <a href="{% url 'login' %}" class="md-item">Đăng nhập hoặc đăng ký</a>
    {% endif %}

</div>

    <nav class="ab-footer">
        <div class="ab-search">

            <!-- ITEM 1 -->
            <div class="ab-search-item search-trigger" data-panel="location" role="button" tabindex="0">
                <span class="label">Địa điểm</span>
                <span class="value" data-field="location" data-placeholder="Tìm kiếm điểm đến">Tìm kiếm điểm đến</span>
            </div>
            <div class="divider"></div>

            <!-- ITEM 2 -->
            <div class="ab-search-item search-trigger" data-panel="dates" role="button" tabindex="0">
                <span class="label">Thời gian</span>
                <span class="value" data-field="dates" data-placeholder="Thêm ngày">Thêm ngày</span>
            </div>
            <div class="divider"></div>

            <!-- ITEM 3 + SEARCH BUTTON -->
            <div class="search-last search-trigger" data-panel="guests" role="button" tabindex="0">
                <div class="search-last-left">
                    <span class="label">Khách</span>
                    <span class="value" data-field="guests" data-placeholder="Thêm khách">Thêm khách</span>
                </div>
                <button class="ab-search-btn" type="button" aria-label="Tìm kiếm">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>

        </div>
    </nav>

    <!-- SEARCH DROPDOWNS -->
    <div class="ab-search-panels" id="searchPanelWrap" aria-live="polite">
        <div class="search-panel" data-panel="location">
            <div class="panel-header">
                <h3>Địa điểm</h3>
                <p>Khám phá điểm đến gợi ý hoặc nhập nơi bạn muốn đến.</p>
            </div>
            <div class="panel-body location-panel">
                <div class="location-input">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input id="locationInput" type="text" placeholder="Tìm kiếm điểm đến" aria-label="Tìm kiếm điểm đến">
                </div>
                <div class="suggestions">
                    <button class="suggestion-item" type="button" data-place="Lân cận">
                        <div class="icon"><i class="fa-regular fa-compass"></i></div>
                        <div class="text"><span class="title">Lân cận</span><span class="desc">Tìm xung quanh bạn</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="Hà Nội">
                        <div class="icon"><i class="fa-solid fa-city"></i></div>
                        <div class="text"><span class="title">Hà Nội</span><span class="desc">Có các thắng cảnh như Nhà hát lớn</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="Vũng Tàu, Bà Rịa - Vũng Tàu">
                        <div class="icon"><i class="fa-solid fa-umbrella-beach"></i></div>
                        <div class="text"><span class="title">Vũng Tàu, Bà Rịa - Vũng Tàu</span><span class="desc">Có đường bờ biển tuyệt đẹp</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="Đà Lạt, Lâm Đồng">
                        <div class="icon"><i class="fa-solid fa-mountain"></i></div>
                        <div class="text"><span class="title">Đà Lạt, Lâm Đồng</span><span class="desc">Phù hợp cho người yêu thiên nhiên</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="TP. Hồ Chí Minh">
                        <div class="icon"><i class="fa-solid fa-city"></i></div>
                        <div class="text"><span class="title">TP. Hồ Chí Minh</span><span class="desc">Sôi động, nhiều địa điểm giải trí</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="Nha Trang, Khánh Hòa">
                        <div class="icon"><i class="fa-solid fa-water"></i></div>
                        <div class="text"><span class="title">Nha Trang, Khánh Hòa</span><span class="desc">Có các thắng cảnh như Chùa Ponagar</span></div>
                    </button>
                    <button class="suggestion-item" type="button" data-place="Đà Nẵng, Đà Nẵng">
                        <div class="icon"><i class="fa-solid fa-archway"></i></div>
                        <div class="text"><span class="title">Đà Nẵng, Đà Nẵng</span><span class="desc">Điểm đến có bãi biển được ưa chuộng</span></div>
                    </button>
                </div>
            </div>
        </div>

        <div class="search-panel" data-panel="dates">
            <div class="panel-header">
                <h3>Thời gian</h3>
                <p>Chọn khoảng thời gian bạn muốn lưu trú.</p>
            </div>
            <div class="panel-body dates-panel">
                <div class="date-tabs" role="tablist">
                    <button type="button" class="tab active" data-mode="day">Ngày</button>
                    <button type="button" class="tab" data-mode="month">Tháng</button>
                    <button type="button" class="tab" data-mode="flex">Linh hoạt</button>
                </div>
                <div class="calendar-wrap">
                    <div class="calendar-month">
                        <div class="calendar-heading">Tháng 12 năm 2025</div>
                        <div class="calendar-grid" aria-label="Ngày trong tháng 12 2025">
                            <span class="muted">T2</span><span class="muted">T3</span><span class="muted">T4</span><span class="muted">T5</span><span class="muted">T6</span><span class="muted">T7</span><span class="muted">CN</span>
                            <span class="muted">1</span><span class="muted">2</span><span class="muted">3</span><span>4</span><span>5</span><span>6</span><span>7</span>
                            <span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span>
                            <span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span>
                            <span>22</span><span>23</span><span>24</span><span>25</span><span>26</span><span>27</span><span>28</span>
                            <span>29</span><span>30</span><span>31</span>
                        </div>
                    </div>
                    <div class="calendar-month">
                        <div class="calendar-heading">Tháng 1 năm 2026</div>
                        <div class="calendar-grid" aria-label="Ngày trong tháng 1 2026">
                            <span class="muted">T2</span><span class="muted">T3</span><span class="muted">T4</span><span class="muted">T5</span><span class="muted">T6</span><span class="muted">T7</span><span class="muted">CN</span>
                            <span class="muted">1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span>
                            <span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span>
                            <span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span>
                            <span>22</span><span>23</span><span>24</span><span>25</span><span>26</span><span>27</span><span>28</span>
                            <span>29</span><span>30</span><span>31</span>
                        </div>
                    </div>
                </div>
                <div class="quick-range">
                    <span>Ngày chính xác</span>
                    <div class="range-buttons">
                        <button type="button" class="range-btn" data-range="1">± 1 ngày</button>
                        <button type="button" class="range-btn" data-range="2">± 2 ngày</button>
                        <button type="button" class="range-btn" data-range="3">± 3 ngày</button>
                        <button type="button" class="range-btn" data-range="7">± 7 ngày</button>
                        <button type="button" class="range-btn" data-range="14">± 14 ngày</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="search-panel" data-panel="guests">
            <div class="panel-header">
                <h3>Khách</h3>
                <p>Thêm số lượng người lớn, trẻ em, em bé và thú cưng.</p>
            </div>
            <div class="panel-body guests-panel">
                <div class="guest-row" data-field="adults">
                    <div class="guest-info">
                        <div class="title">Người lớn</div>
                        <div class="desc">Từ 13 tuổi trở lên</div>
                    </div>
                    <div class="counter">
                        <button type="button" class="count-btn minus" aria-label="Giảm người lớn">-</button>
                        <span class="count" aria-live="polite">0</span>
                        <button type="button" class="count-btn plus" aria-label="Tăng người lớn">+</button>
                    </div>
                </div>
                <div class="guest-row" data-field="children">
                    <div class="guest-info">
                        <div class="title">Trẻ em</div>
                        <div class="desc">Độ tuổi 2 – 12</div>
                    </div>
                    <div class="counter">
                        <button type="button" class="count-btn minus" aria-label="Giảm trẻ em">-</button>
                        <span class="count" aria-live="polite">0</span>
                        <button type="button" class="count-btn plus" aria-label="Tăng trẻ em">+</button>
                    </div>
                </div>
                <div class="guest-row" data-field="infants">
                    <div class="guest-info">
                        <div class="title">Em bé</div>
                        <div class="desc">Dưới 2 tuổi</div>
                    </div>
                    <div class="counter">
                        <button type="button" class="count-btn minus" aria-label="Giảm em bé">-</button>
                        <span class="count" aria-live="polite">0</span>
                        <button type="button" class="count-btn plus" aria-label="Tăng em bé">+</button>
                    </div>
                </div>
                <div class="guest-row" data-field="pets">
                    <div class="guest-info">
                        <div class="title">Thú cưng</div>
                        <div class="desc">Bạn sẽ mang theo động vật phục vụ?</div>
                    </div>
                    <div class="counter">
                        <button type="button" class="count-btn minus" aria-label="Giảm thú cưng">-</button>
                        <span class="count" aria-live="polite">0</span>
                        <button type="button" class="count-btn plus" aria-label="Tăng thú cưng">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="search-backdrop" id="searchBackdrop"></div>

</header>

<script src="{% static 'app/js/header.js' %}?v=2"></script>
