    # CHแปจC NฤNG Vร NGHIแปP Vแปค - Dแปฐ รN HOMNEST

    > **Hแป thแปng ฤแบทt phรฒng vร quแบฃn lรฝ chแป แป (giแปng Airbnb)**  
    > **Bรกo cรกo cuแปi kแปณ - Thรกng 2/2026**

    ---

    ## ๐ฏ TแปNG QUAN Hแป THแปNG

    **Homnest** lร nแปn tแบฃng cho thuรช chแป แป kแบฟt nแปi **Guest** (khรกch thuรช) vร **Host** (chแปง nhร), cรณ tรญch hแปฃp **AI phรขn tรญch ฤรกnh giรก** vร **thanh toรกn trแปฑc tuyแบฟn**.

    ### **3 NHรM NGฦฏแปI DรNG:**
    1. **Guest** - Ngฦฐแปi tรฌm vร ฤแบทt chแป แป
    2. **Host** - Chแปง nhร cho thuรช  
    3. **Admin** - Quแบฃn trแป viรชn hแป thแปng

    ---

    ## ๐ CHแปจC NฤNG CHI TIแบพT

    ### **1. QUแบขN Lร TรI KHOแบขN** ๐ค

    #### **1.1. ฤฤng kรฝ & ฤฤng nhแบญp:**
    - ฤฤng kรฝ tรi khoแบฃn bแบฑng email
    - Xรกc thแปฑc OTP qua email (6 sแป)
    - ฤฤng nhแบญp bแบฑng email + password
    - Quรชn mแบญt khแบฉu (reset qua email)
    - Logout

    #### **1.2. Quแบฃn lรฝ hแป sฦก:**
    - Xem thรดng tin cรก nhรขn
    - Chแปnh sแปญa: Hแป tรชn, SฤT, avatar
    - Thแปng kรช: Sแป booking, sแป review
    - Phรขn quyแปn: Guest / Host / Admin

    ---

    ### **2. CHแปจC NฤNG CHO GUEST (KHรCH THUร)** ๐

    #### **2.1. Tรฌm kiแบฟm chแป แป:**
    - Tรฌm theo: ฤแปa ฤiแปm, ngรy, sแป khรกch
    - Lแปc theo: Giรก, loแบกi phรฒng, tiแปn nghi
    - Hiแปn thแป kแบฟt quแบฃ vแปi:
    - แบขnh chแป แป
    - Giรก/ฤรชm
    - Rating trung bรฌnh
    - Sแป ฤรกnh giรก

    #### **2.2. Xem chi tiแบฟt chแป แป:**
    - **Thรดng tin cฦก bแบฃn:**
    - Tiรชu ฤแป, mรด tแบฃ
    - Loแบกi chแป แป (nhร riรชng, cฤn hแป, phรฒng...)
    - Sแป phรฒng ngแปง, giฦฐแปng, phรฒng tแบฏm
    - Sแป khรกch tแปi ฤa (ngฦฐแปi lแปn + trแบป em + pets)
    
    - **Tiแปn nghi:**
    - Tiแปn nghi cฦก bแบฃn (WiFi, TV, bแบฟp...)
    - Tiแปn nghi nแปi bแบญt (Hแป bฦกi, Gym...)
    - Tiแปn nghi an toรn (Bรกo chรกy, CCTV...)

    - **Bแบฃn ฤแป:**
    - Hiแปn thแป vแป trรญ trรชn Leaflet Map
    - ฤแปa chแป chi tiแบฟt (sau khi ฤแบทt)
    - Geocoding tแปฑ ฤแปng

    - **ฤรกnh giรก:**
    - Xem review cแปงa khรกch cลฉ
    - Sao trung bรฌnh + tแปng sแป review
    - AI phรขn loแบกi: Tรญch cแปฑc / Tiรชu cแปฑc / Trung tรญnh
    - แบขnh/video review

    - **Thรดng tin host:**
    - Tรชn, avatar, ngรy tham gia
    - Sแป ฤiแปn thoแบกi, email
    - Nรบt "Nhแบฏn tin cho chแปง nhร"

    #### **2.3. ฤแบทt phรฒng:**
    - Chแปn ngรy nhแบญn phรฒng / trแบฃ phรฒng
    - Chแปn sแป khรกch
    - Kiแปm tra tรฌnh trแบกng (available/booked)
    - Tรญnh toรกn giรก tแปฑ ฤแปng:
    - Giรก cฦก bแบฃn = Giรก/ฤรชm ร Sแป ฤรชm
    - Phรญ dแปch vแปฅ: 350,000 VNฤ (cแป ฤแปnh)
    - Tแปng cแปng

    #### **2.4. Thanh toรกn:**
    - **Phฦฐฦกng thแปฉc:** VNPay Gateway
    - **Quy trรฌnh:**
    1. Tแบกo booking (status = pending)
    2. Redirect sang VNPay
    3. Nhแบญp thรดng tin thanh toรกn
    4. VNPay xแปญ lรฝ
    5. Return vแป website
    6. Cแบญp nhแบญt status = confirmed
    7. Gแปญi email xรกc nhแบญn

    #### **2.5. Quแบฃn lรฝ booking:**
    - Xem lแปch sแปญ ฤแบทt phรฒng
    - Trแบกng thรกi: Pending / Confirmed / Completed / Cancelled
    - Chi tiแบฟt booking:
    - Thรดng tin chแป แป
    - Ngรy check-in / check-out
    - Tแปng tiแปn ฤรฃ thanh toรกn
    - Trแบกng thรกi thanh toรกn
    - Hแปงy booking (nแบฟu chฦฐa check-in)

    #### **2.6. ฤรกnh giรก:**
    - **ฤiแปu kiแปn:** Sau khi check-out
    - **Nแปi dung:**
    - Rating (1-5 sao)
    - Nhแบญn xรฉt vฤn bแบฃn
    - Upload แบฃnh/video (tรนy chแปn)
    - **AI xแปญ lรฝ:**
    - Phรขn tรญch cแบฃm xรบc (ViSoBERT)
    - Phรกt hiแปn spam:
        - Tแปซ lแบทp lแบกi
        - Chแปฏ in hoa quรก nhiแปu
        - Nแปi dung vรด nghฤฉa
    - Gแบฏn nhรฃn: Positive / Negative / Neutral

    #### **2.7. Khiแบฟu nแบกi:**
    - Gแปญi khiแบฟu nแบกi sau khi hoรn thรnh booking
    - Nแปi dung khiแบฟu nแบกi (โฅ10 kรฝ tแปฑ)
    - Email thรดng bรกo cho admin
    - Theo dรตi trแบกng thรกi: Open / Resolved

    #### **2.8. Chat vแปi Host:**
    - Tแบกo cuแปc hแปi thoแบกi tแปฑ ฤแปng khi booking
    - Gแปญi/nhแบญn tin nhแบฏn real-time
    - ฤรกnh dแบฅu ฤรฃ ฤแปc
    - Lแปch sแปญ chat

    ---

    ### **3. CHแปจC NฤNG CHO HOST (CHแปฆ NHร)** ๐ก

    #### **3.1. ฤฤng tin cho thuรช (Wizard 3 bฦฐแปc):**

    **Bฦฐแปc 1: Thรดng tin cฦก bแบฃn**
    - Chแปn loแบกi chแป แป (12 loแบกi)
    - Loแบกi sแปญ dแปฅng (Toรn bแป nhร / Phรฒng riรชng / Phรฒng chung)
    - ฤแปa chแป chi tiแบฟt + Bแบฃn ฤแป
    - Sแป lฦฐแปฃng: Phรฒng ngแปง, giฦฐแปng, phรฒng tแบฏm
    - Sแป khรกch tแปi ฤa (ngฦฐแปi lแปn, trแบป em, pets)

    **Bฦฐแปc 2: Tiแปn nghi & แบขnh**
    - Chแปn tiแปn nghi (checkboxes)
    - Upload แบฃnh (tแปi thiแปu 5 แบฃnh)
    - Chแปn แบฃnh ฤแบกi diแปn

    **Bฦฐแปc 3: Giรก & Thแปi gian**
    - ฤแบทt giรก/ฤรชm
    - Thแปi gian cho thuรช (tแปซ ngรy - ฤแบฟn ngรy)
    - Tiรชu ฤแป vร mรด tแบฃ
    - Xรกc nhแบญn ฤฤng

    **Kแบฟt quแบฃ:**
    - Listing tแบกo vแปi status = "pending"
    - Chแป admin duyแปt

    #### **3.2. Quแบฃn lรฝ chแป แป:**
    - Xem danh sรกch listing cแปงa mรฌnh
    - Chแปnh sแปญa thรดng tin
    - Bแบญt/tแบฏt hiแปn thแป (is_active)
    - Xem thแปng kรช:
    - Sแป lฦฐแปฃt xem
    - Sแป booking
    - Doanh thu

    #### **3.3. Quแบฃn lรฝ booking ฤแบฟn:**
    - Xem booking cho cรกc listing cแปงa mรฌnh
    - Trแบกng thรกi booking
    - Thรดng tin khรกch
    - Ngรy check-in / check-out
    - Tแปng tiแปn nhแบญn ฤฦฐแปฃc

    #### **3.4. Chat vแปi Guest:**
    - Trแบฃ lแปi tin nhแบฏn tแปซ khรกch
    - Hแป trแปฃ trฦฐแปc/trong/sau kแปณ thuรช

    ---

    ### **4. CHแปจC NฤNG ADMIN (QUแบขN TRแป)** ๐จโ๐ผ

    #### **4.1. Quแบฃn lรฝ ngฦฐแปi dรนng:**
    - Danh sรกch tแบฅt cแบฃ users
    - Xem: ID, Email, Hแป tรชn, Role, Avatar
    - Phรขn quyแปn: Guest / Host / Admin
    - Bแบญt/tแบฏt tรi khoแบฃn (is_active)
    - Xรณa ngฦฐแปi dรนng (cascade)

    #### **4.2. Quแบฃn lรฝ chแป แป:**
    - **Duyแปt listing:**
    - Xem listing pending
    - Actions: Approve / Reject
    - Set status: approved / rejected
    - Set is_active = True/False
    
    - **Quแบฃn lรฝ tแบฅt cแบฃ listings:**
    - Xem: Tiรชu ฤแป, Host, Giรก, Status
    - Lแปc theo: Status, Host, Giรก
    - Tรฌm kiแบฟm
    - Chแปnh sแปญa chi tiแบฟt
    - Xรณa listing

    #### **4.3. Quแบฃn lรฝ booking:**
    - Xem tแบฅt cแบฃ bookings
    - Lแปc theo: Status, User, Listing, Ngรy
    - Chi tiแบฟt:
    - Guest, Host
    - Listing
    - Check-in / Check-out
    - Tแปng tiแปn
    - Trแบกng thรกi booking & payment
    - Inline payment info

    #### **4.4. Quแบฃn lรฝ thanh toรกn:**
    - Xem tแบฅt cแบฃ payments
    - Liรชn kแบฟt vแปi booking
    - Amount, Method, Status
    - Transaction ID
    - Ngรy thanh toรกn
    - Actions: Mark as paid

    #### **4.5. Quแบฃn lรฝ review & AI:**
    - **Xem reviews:**
    - User, Listing, Rating, Comment
    - AI Analysis (Sentiment)
    - Spam status
    - **AI Analysis:**
    - Xem kแบฟt quแบฃ phรขn tรญch ViSoBERT
    - Sentiment: pos / neg / neu
    - Confidence score
    - **Spam Classification:**
    - Spam status (True/False)
    - Spam reason
    - แบจn review spam

    #### **4.6. Quแบฃn lรฝ khiแบฟu nแบกi:**
    - Danh sรกch complaints
    - User, Listing, Lรฝ do
    - Status: Open / Resolved
    - ฤรกnh dแบฅu ฤรฃ giแบฃi quyแบฟt
    - Gแปญi email phแบฃn hแปi

    #### **4.7. Thแปng kรช doanh thu:** ๐
    - **Biแปu ฤแป:**
    - Doanh thu theo thรกng (Chart.js)
    - Sแป booking theo thรกng
    - Top listings cรณ doanh thu cao
    
    - **Sแป liแปu:**
    - Tแปng doanh thu
    - Tแปng booking
    - Tแปng users
    - Tแปng listings
    - Trung bรฌnh giรก/ฤรชm

    #### **4.8. Admin UI (Jazzmin):**
    - Giao diแปn admin ฤแบนp
    - Mรu theme: Warning (nรขu/vรng)
    - Dashboard tแปng quan
    - Search & filters
    - Custom actions

    ---

    ## ๐ NGHIแปP Vแปค CHรNH

    ### **1. QUY TRรNH ฤแบถT PHรNG:**
    ```
    1. Guest tรฌm kiแบฟm chแป แป
    2. Xem chi tiแบฟt listing
    3. Chแปn ngรy & sแป khรกch
    4. Kiแปm tra availability (API)
    5. Tรญnh giรก (API)
    6. Tแบกo booking (status = pending)
    7. Redirect sang VNPay
    8. Thanh toรกn
    9. VNPay callback
    10. Update booking (status = confirmed)
    11. Tแบกo payment record
    12. Gแปญi email xรกc nhแบญn
    13. Tแบกo conversation (chat)
    ```

    ### **2. QUY TRรNH ฤฤNG TIN:**
    ```
    1. Host ฤฤng nhแบญp
    2. ฤiแปn form 3 bฦฐแปc
    3. Upload แบฃnh
    4. Submit
    5. Listing tแบกo (status = pending)
    6. Admin duyแปt
    7. Status โ approved
    8. is_active โ True
    9. Hiแปn thแป trรชn trang chแปง
    ```

    ### **3. QUY TRรNH ฤรNH GIร + AI:**
    ```
    1. Booking completed
    2. Guest viแบฟt review
    3. Upload แบฃnh/video (optional)
    4. Submit
    5. Kiแปm tra spam:
    - Tแปซ lแบทp > 50%?
    - Chแปฏ hoa > 70%?
    - ฤแป dรi < 10?
    6. AI ViSoBERT phรขn tรญch:
    - Tokenize text
    - Predict sentiment
    - Calculate confidence
    7. Lฦฐu ReviewAnalysis:
    - sentiment (pos/neg/neu)
    - confidence
    8. Lฦฐu ReviewClassification:
    - spam_status
    - spam_reason
    9. Hiแปn thแป review + badge
    ```

    ### **4. QUY TRรNH THANH TOรN:**
    ```
    1. Calculate total price
    2. Create VNPay URL:
    - vnp_Amount
    - vnp_OrderInfo
    - vnp_ReturnUrl
    - HMAC-SHA512 signature
    3. Redirect to VNPay
    4. User pays
    5. VNPay return callback
    6. Verify signature
    7. Update booking & payment
    8. Send email
    ```

    ---

    ## ๐ก TรNH NฤNG NแปI BแบฌT

    ### **1. AI Sentiment Analysis:**
    - Model: 5CD-ViSoBERT (120K Vietnamese reviews)
    - Framework: PyTorch + Transformers
    - Tแปฑ ฤแปng phรขn loแบกi cแบฃm xรบc review
    - Phรกt hiแปn spam thรดng minh

    ### **2. Real-time Chat:**
    - Host โ Guest messaging
    - Auto-create conversation khi booking
    - Mark as read
    - Django signals

    ### **3. Payment Integration:**
    - VNPay gateway (sandbox)
    - HMAC-SHA512 security
    - Transaction tracking
    - Email confirmation

    ### **4. Interactive Maps:**
    - Leaflet.js + OpenStreetMap
    - Nominatim geocoding API
    - Auto address โ coordinates
    - Beautiful markers

    ### **5. Email Automation:**
    - OTP verification
    - Booking confirmation
    - Complaint notifications
    - Password reset

    ---

    ## ๐ THแปNG Kร Hแป THแปNG

    | Thรnh phแบงn | Sแป lฦฐแปฃng |
    |-----------|---------|
    | **Views** | 40+ |
    | **Models** | 15+ |
    | **Templates** | 50+ |
    | **URLs** | 35+ |
    | **APIs** | 7+ |
    | **Email templates** | 4+ |
    | **Static files** | 30+ (CSS/JS) |

    ---

    ## ๐จ GIAO DIแปN

    ### **Guest:**
    - Trang chแปง: Featured listings + search
    - Kแบฟt quแบฃ tรฌm kiแบฟm: Grid layout + filters
    - Chi tiแบฟt chแป แป: Gallery + map + reviews
    - Booking: Form + price calculation
    - Profile: Tabs (Info / Trips / Reviews)

    ### **Host:**
    - Dashboard: My listings + bookings
    - Create listing: 3-step wizard
    - Manage listings: Table view

    ### **Admin:**
    - Jazzmin theme (mรu nรขu)
    - Dashboard: Stats cards
    - Revenue charts: Chart.js
    - CRUD cho tแบฅt cแบฃ models

    ---

    ## โ KแบพT LUแบฌN

    **Homnest** lร hแป thแปng full-stack hoรn chแปnh vแปi:
    - โ **Frontend:** Bootstrap responsive + Interactive maps
    - โ **Backend:** Django MVC + MySQL
    - โ **AI:** Vietnamese sentiment analysis
    - โ **Payment:** VNPay integration
    - โ **Email:** Automated notifications
    - โ **Chat:** Real-time messaging
    - โ **Admin:** Powerful management panel

    Hแป thแปng ฤรฃ implement **ฤแบงy ฤแปง nghiแปp vแปฅ** cแปงa mแปt nแปn tแบฃng cho thuรช chแป แป thแปฑc tแบฟ, sแบตn sรng deploy production.

    ---

    *Dแปฑ รกn ฤรฃ hoรn thรnh tแบฅt cแบฃ chแปฉc nฤng cแปt lรตi cแปงa Airbnb + AI*
